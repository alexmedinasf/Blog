<%= render 'shared/flashes' %>
<div class="postdetail-container">
  <div class="postdetail">
    <div class="postdetail-head">
      <h2><%= @post.title %> by <%= @user.name %></h2>
      <span class="title-date"><%= @post.created_at.strftime('%F %T') %></span>
      <div class="postdetail-details">
        <p>Comments: <%= @post.comments_counter %></p>
        <p>Likes: <%= @post.likes_counter%></p>
      </div>
    </div>
    <div class="postdetail-post">
      <p><%= @post.text %></p>
    </div>
  </div>
  <div class="comments-container">
    <% counter = 0 %>
    <% @comments.each do |comment| %>
        <div class="comment">
          <div class="comment-body">
            #<%= counter += 1 %>
            <p class="comment-name"><%= comment.author.name %>:</p>
            <p class="comment-text"><%= comment.text %></p>
          </div>
          <span class="comment-date"><%= comment.created_at.strftime('%F %T') %></span>
        </div>
    <% end %> 
  </div>
  <%= render partial: "likes/like", locals: { post: @post, user: @user } %>
  <%= render partial: "comments/comment", locals: { post: @post, user: @user } %>
</div>